(()=>{var e={};e.id=336,e.ids=[336],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},8814:(e,s,t)=>{Promise.resolve().then(t.bind(t,43034))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43034:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var n=t(60687),r=t(43210),i=t(44493),a=t(6211),l=t(96834),d=t(29523),o=t(21342),c=t(15079),u=t(40988),x=t(26373),h=t(23115),m=t(29867),p=t(66420),v=t(20620),j=t(35265),f=t(26622),g=t(69795),b=t(57207),y=t(16560),w=t(73437),P=t(35843),C=t(93500),N=t(85814),D=t.n(N);function A(){let[e,s]=(0,r.useState)(p.Z9),[t,N]=(0,r.useState)(!1),[A,k]=(0,r.useState)(null),{toast:_}=(0,m.dj)(),[M,S]=(0,r.useState)(void 0),[I,F]=(0,r.useState)("all"),[q,E]=(0,r.useState)("all"),G=(0,r.useMemo)(()=>[...new Set(p.Z9.map(e=>(0,y.C)(new Date(e.dueDate))))].sort((e,s)=>s-e).map(String),[e]),U=(0,r.useMemo)(()=>e.filter(e=>{let s=new Date(e.dueDate);return(!M||(0,w.GP)(s,"yyyy-MM-dd")===(0,w.GP)(M,"yyyy-MM-dd"))&&("all"===I||(0,P.t)(s)===parseInt(I))&&("all"===q||(0,y.C)(s)===parseInt(q))}),[e,M,I,q]),$=(t,n)=>{s(e.map(e=>e.id===t?{...e,status:n}:e)),_({title:"Status Updated",description:`Invoice ${t} marked as ${n}.`})},O=t=>{s(e.filter(e=>e.id!==t));let n=p.Z9.findIndex(e=>e.id===t);n>-1&&p.Z9.splice(n,1),_({title:"Invoice Deleted",description:`Invoice ${t} has been removed.`,variant:"destructive"})},R=e=>{k(e),N(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)(i.Zp,{children:[(0,n.jsxs)(i.aR,{children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(i.ZB,{children:"All Invoices"}),(0,n.jsx)(i.BT,{children:"Create, view, and manage all patient invoices."})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(d.$,{onClick:()=>{if(0===U.length)return void _({variant:"destructive",title:"No Data to Export",description:"There are no invoices matching the current filters."});let e=new Blob(["Invoice ID,Patient Name,Amount,Due Date,Status\n"+U.map(e=>[e.id,e.patientName,e.amount,e.dueDate,e.status].join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(e),t=document.createElement("a");t.setAttribute("href",s),t.setAttribute("download",`billing_report_${(0,w.GP)(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(t),t.click(),document.body.removeChild(t),_({title:"Export Successful",description:"Your billing data has been downloaded as a CSV file."})},variant:"outline",className:"w-full sm:w-auto",children:[(0,n.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,n.jsx)(d.$,{asChild:!0,className:"w-full sm:w-auto",children:(0,n.jsxs)(D(),{href:"/finance/invoices/create",children:[(0,n.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"New Invoice"]})})]})]}),(0,n.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch md:items-center gap-2",children:[(0,n.jsxs)(u.AM,{children:[(0,n.jsx)(u.Wv,{asChild:!0,children:(0,n.jsxs)(d.$,{variant:"outline",className:"w-full sm:w-[200px] justify-start text-left font-normal",children:[(0,n.jsx)(f.A,{className:"mr-2 h-4 w-4"}),M?(0,w.GP)(M,"PPP"):(0,n.jsx)("span",{children:"Filter by date"})]})}),(0,n.jsx)(u.hl,{className:"w-auto p-0",children:(0,n.jsx)(x.V,{mode:"single",selected:M,onSelect:S,initialFocus:!0})})]}),(0,n.jsxs)(c.l6,{value:I,onValueChange:F,children:[(0,n.jsx)(c.bq,{className:"w-full sm:w-[150px]",children:(0,n.jsx)(c.yv,{placeholder:"Filter by month"})}),(0,n.jsxs)(c.gC,{children:[(0,n.jsx)(c.eb,{value:"all",children:"All Months"}),Array.from({length:12}).map((e,s)=>(0,n.jsx)(c.eb,{value:String(s),children:(0,w.GP)(new Date(0,s),"MMMM")},s))]})]}),(0,n.jsxs)(c.l6,{value:q,onValueChange:E,children:[(0,n.jsx)(c.bq,{className:"w-full sm:w-[120px]",children:(0,n.jsx)(c.yv,{placeholder:"Filter by year"})}),(0,n.jsxs)(c.gC,{children:[(0,n.jsx)(c.eb,{value:"all",children:"All Years"}),G.map(e=>(0,n.jsx)(c.eb,{value:e,children:e},e))]})]})]})]}),(0,n.jsx)(i.Wu,{children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)(a.XI,{children:[(0,n.jsx)(a.A0,{children:(0,n.jsxs)(a.Hj,{children:[(0,n.jsx)(a.nd,{children:"Invoice ID"}),(0,n.jsx)(a.nd,{children:"Patient"}),(0,n.jsx)(a.nd,{children:"Amount"}),(0,n.jsx)(a.nd,{children:"Due Date"}),(0,n.jsx)(a.nd,{children:"Status"}),(0,n.jsx)(a.nd,{children:(0,n.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,n.jsx)(a.BF,{children:U.map(e=>(0,n.jsxs)(a.Hj,{onClick:()=>R(e),className:"cursor-pointer",children:[(0,n.jsx)(a.nA,{className:"font-medium",children:e.id}),(0,n.jsx)(a.nA,{children:e.patientName}),(0,n.jsxs)(a.nA,{children:["â‚¦",e.amount.toFixed(2)]}),(0,n.jsx)(a.nA,{children:e.dueDate}),(0,n.jsx)(a.nA,{children:(0,n.jsx)(l.E,{variant:"Pending"===e.status?"secondary":"Overdue"===e.status?"destructive":"default",className:"Paid"===e.status?"bg-green-500":"",children:e.status})}),(0,n.jsx)(a.nA,{className:"text-right",children:(0,n.jsxs)(o.rI,{children:[(0,n.jsx)(o.ty,{asChild:!0,children:(0,n.jsxs)(d.$,{variant:"ghost",className:"h-8 w-8 p-0",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,n.jsx)(g.A,{className:"h-4 w-4"})]})}),(0,n.jsxs)(o.SQ,{align:"end",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(o._2,{onClick:()=>R(e),children:"View Details"}),(0,n.jsx)(o.mB,{}),(0,n.jsx)(o._2,{onClick:()=>$(e.id,"Paid"),children:"Mark as Paid"}),(0,n.jsx)(o._2,{onClick:()=>$(e.id,"Pending"),children:"Mark as Pending"}),(0,n.jsx)(o._2,{onClick:()=>$(e.id,"Overdue"),children:"Mark as Overdue"}),(0,n.jsx)(o.mB,{}),(0,n.jsxs)(C.Lt,{children:[(0,n.jsx)(C.tv,{asChild:!0,children:(0,n.jsxs)("button",{className:"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-destructive hover:bg-destructive/10 w-full text-left",children:[(0,n.jsx)(b.A,{className:"mr-2 h-4 w-4"}),(0,n.jsx)("span",{children:"Delete"})]})}),(0,n.jsxs)(C.EO,{children:[(0,n.jsxs)(C.wd,{children:[(0,n.jsx)(C.r7,{children:"Are you absolutely sure?"}),(0,n.jsxs)(C.$v,{children:["This action cannot be undone. This will permanently delete the invoice ",e.id,"."]})]}),(0,n.jsxs)(C.ck,{children:[(0,n.jsx)(C.Zr,{children:"Cancel"}),(0,n.jsx)(C.Rx,{onClick:()=>O(e.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})})]},e.id))})]})})})]})}),A&&(0,n.jsx)(h.s,{isOpen:t,onClose:()=>N(!1),invoice:A})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66960:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\lenovo\\\\Documents\\\\DevFlux\\\\health-management-system\\\\src\\\\app\\\\finance\\\\invoices\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\lenovo\\Documents\\DevFlux\\health-management-system\\src\\app\\finance\\invoices\\page.tsx","default")},75593:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var n=t(65239),r=t(48088),i=t(88170),a=t.n(i),l=t(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o={children:["",{children:["finance",{children:["invoices",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,66960)),"C:\\Users\\lenovo\\Documents\\DevFlux\\health-management-system\\src\\app\\finance\\invoices\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,84006)),"C:\\Users\\lenovo\\Documents\\DevFlux\\health-management-system\\src\\app\\finance\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\lenovo\\Documents\\DevFlux\\health-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\lenovo\\Documents\\DevFlux\\health-management-system\\src\\app\\finance\\invoices\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/finance/invoices/page",pathname:"/finance/invoices",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79551:e=>{"use strict";e.exports=require("url")},84006:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var n=t(37413),r=t(37570),i=t(95177),a=t(50417);function l({children:e}){return(0,n.jsx)(a.SidebarProvider,{children:(0,n.jsxs)("div",{className:"flex min-h-screen w-full",children:[(0,n.jsx)(r.AppSidebar,{role:"finance"}),(0,n.jsx)(a.SidebarInset,{children:(0,n.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,n.jsx)(i.AppHeader,{role:"Finance"}),(0,n.jsx)("main",{className:"flex-1 p-4 md:p-6 lg:p-8",children:e}),(0,n.jsx)("footer",{className:"py-4 px-6 text-center text-sm text-muted-foreground",children:"Powered by DevFlux 2025"})]})})]})})}},90662:(e,s,t)=>{Promise.resolve().then(t.bind(t,66960))}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[4447,5,9861,2331,7300,8123,197,2913,3368,7693,7749,8229],()=>t(75593));module.exports=n})();